{"version":3,"sources":["../../src/server/index.js"],"names":["admin","initializeApp","dev","process","env","NODE_ENV","app","conf","distDir","handle","getRequestHandler","server","functions","https","onRequest","request","response","console","log","originalUrl","prepare","then","nextjs"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEAA,KAAK,CAACC,aAAN;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAArC;AACA,MAAMC,GAAG,GAAG,mBAAK;AACfJ,EAAAA,GADe;AAEf;AACA;AACAK,EAAAA,IAAI,EAAE;AAAEC,IAAAA,OAAO,EAAE;AAAX;AAJS,CAAL,CAAZ;AAMA,MAAMC,MAAM,GAAGH,GAAG,CAACI,iBAAJ,EAAf;AAEA,MAAMC,MAAM,GAAGC,SAAS,CAACC,KAAV,CAAgBC,SAAhB,CAA0B,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAC9D;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAWH,OAAO,CAACI,WAA/B;AACA,SAAOb,GAAG,CAACc,OAAJ,GAAcC,IAAd,CAAmB,MAAMZ,MAAM,CAACM,OAAD,EAAUC,QAAV,CAA/B,CAAP;AACD,CAJc,CAAf;AAMA,MAAMM,MAAM,GAAG;AACbX,EAAAA;AADa,CAAf","sourcesContent":["import * as admin from \"firebase-admin\";\r\nimport * as functions from \"firebase-functions\";\r\nimport next from \"next\";\r\n\r\nadmin.initializeApp();\r\n\r\nconst dev = process.env.NODE_ENV !== \"production\";\r\nconst app = next({\r\n  dev,\r\n  // the absolute directory from the package.json file that initialises this module\r\n  // IE: the absolute path from the root of the Cloud Function\r\n  conf: { distDir: \"dist/client\" },\r\n});\r\nconst handle = app.getRequestHandler();\r\n\r\nconst server = functions.https.onRequest((request, response) => {\r\n  // log the page.js file or resource being requested\r\n  console.log(\"File: \" + request.originalUrl);\r\n  return app.prepare().then(() => handle(request, response));\r\n});\r\n\r\nconst nextjs = {\r\n  server,\r\n};\r\n\r\nexport { nextjs };"],"file":"index.js"}